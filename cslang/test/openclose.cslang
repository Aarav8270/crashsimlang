type open {filename: String@0, filedesc: Numeric@ret};
type read {filedesc: Numeric@0};
type close {filedesc: Numeric@0, retval: Numeric@ret};

#predicate open filename == "test.txt";

# Register initialization.  Registers do not have to be initialized before use
retval <- "-1";

# Match an open call, store the file name and returned file descriptors
# to the 'filename' and 'filedesc' registers respectively
#
open({!filename: fn, !filedesc: fd});

NOT read({?filedesc: fd});
## Match a close call its the value in 'filedesc' as the file descriptor being
## closed


close({->retval: retval, ?filedesc: fd});
